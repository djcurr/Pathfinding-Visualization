(()=>{if(!(typeof global<"u"))if(typeof window<"u")window.global=window;else if(typeof self<"u")self.global=self;else throw new Error("cannot export Go (neither global, window nor self is defined)");!global.require&&typeof require<"u"&&(global.require=require),!global.fs&&global.require&&(global.fs=require("fs"));const a=()=>{const o=new Error("not implemented");return o.code="ENOSYS",o};if(!global.fs){let o="";global.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(t,n){o+=x.decode(n);const i=o.lastIndexOf(`
`);return i!=-1&&(console.log(o.substr(0,i)),o=o.substr(i+1)),n.length},write(t,n,i,u,y,m){if(i!==0||u!==n.length||y!==null){m(a());return}const w=this.writeSync(t,n);m(null,w)},chmod(t,n,i){i(a())},chown(t,n,i,u){u(a())},close(t,n){n(a())},fchmod(t,n,i){i(a())},fchown(t,n,i,u){u(a())},fstat(t,n){n(a())},fsync(t,n){n(null)},ftruncate(t,n,i){i(a())},lchown(t,n,i,u){u(a())},link(t,n,i){i(a())},lstat(t,n){n(a())},mkdir(t,n,i){i(a())},open(t,n,i,u){u(a())},read(t,n,i,u,y,m){m(a())},readdir(t,n){n(a())},readlink(t,n){n(a())},rename(t,n,i){i(a())},rmdir(t,n){n(a())},stat(t,n){n(a())},symlink(t,n,i){i(a())},truncate(t,n,i){i(a())},unlink(t,n){n(a())},utimes(t,n,i,u){u(a())}}}if(global.process||(global.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw a()},pid:-1,ppid:-1,umask(){throw a()},cwd(){throw a()},chdir(){throw a()}}),!global.crypto){const o=require("crypto");global.crypto={getRandomValues(t){o.randomFillSync(t)}}}global.performance||(global.performance={now(){const[o,t]=process.hrtime();return o*1e3+t/1e6}}),global.TextEncoder||(global.TextEncoder=require("util").TextEncoder),global.TextDecoder||(global.TextDecoder=require("util").TextDecoder);const U=new TextEncoder("utf-8"),x=new TextDecoder("utf-8");let _=new DataView(new ArrayBuffer(8));var v=[];if(global.Go=class{constructor(){this._callbackTimeouts=new Map,this._nextCallbackTimeoutID=1;const o=()=>new DataView(this._inst.exports.memory.buffer),t=e=>{_.setBigInt64(0,e,!0);const s=_.getFloat64(0,!0);if(s===0)return;if(!isNaN(s))return s;const r=e&0xffffffffn;return this._values[r]},n=e=>{let s=o().getBigUint64(e,!0);return t(s)},i=e=>{const s=0x7FF80000n;if(typeof e=="number")return isNaN(e)?s<<32n:e===0?s<<32n|1n:(_.setFloat64(0,e,!0),_.getBigInt64(0,!0));switch(e){case void 0:return 0n;case null:return s<<32n|2n;case!0:return s<<32n|3n;case!1:return s<<32n|4n}let r=this._ids.get(e);r===void 0&&(r=this._idPool.pop(),r===void 0&&(r=BigInt(this._values.length)),this._values[r]=e,this._goRefCounts[r]=0,this._ids.set(e,r)),this._goRefCounts[r]++;let l=1n;switch(typeof e){case"string":l=2n;break;case"symbol":l=3n;break;case"function":l=4n;break}return r|(s|l)<<32n},u=(e,s)=>{let r=i(s);o().setBigUint64(e,r,!0)},y=(e,s,r)=>new Uint8Array(this._inst.exports.memory.buffer,e,s),m=(e,s,r)=>{const l=new Array(s);for(let c=0;c<s;c++)l[c]=n(e+c*8);return l},w=(e,s)=>x.decode(new DataView(this._inst.exports.memory.buffer,e,s)),j=Date.now()-performance.now();this.importObject={wasi_snapshot_preview1:{fd_write:function(e,s,r,l){let c=0;if(e==1)for(let f=0;f<r;f++){let d=s+f*8,g=o().getUint32(d+0,!0),h=o().getUint32(d+4,!0);c+=h;for(let p=0;p<h;p++){let b=o().getUint8(g+p);if(b!=13)if(b==10){let k=x.decode(new Uint8Array(v));v=[],console.log(k)}else v.push(b)}}else console.error("invalid file descriptor:",e);return o().setUint32(l,c,!0),0},fd_close:()=>0,fd_fdstat_get:()=>0,fd_seek:()=>0,proc_exit:e=>{if(global.process)process.exit(e);else throw"trying to exit with code "+e},random_get:(e,s)=>(crypto.getRandomValues(y(e,s)),0)},gojs:{"runtime.ticks":()=>j+performance.now(),"runtime.sleepTicks":e=>{setTimeout(this._inst.exports.go_scheduler,e)},"syscall/js.finalizeRef":e=>{console.error("syscall/js.finalizeRef not implemented")},"syscall/js.stringVal":(e,s)=>{const r=w(e,s);return i(r)},"syscall/js.valueGet":(e,s,r)=>{let l=w(s,r),c=t(e),f=Reflect.get(c,l);return i(f)},"syscall/js.valueSet":(e,s,r,l)=>{const c=t(e),f=w(s,r),d=t(l);Reflect.set(c,f,d)},"syscall/js.valueDelete":(e,s,r)=>{const l=t(e),c=w(s,r);Reflect.deleteProperty(l,c)},"syscall/js.valueIndex":(e,s)=>i(Reflect.get(t(e),s)),"syscall/js.valueSetIndex":(e,s,r)=>{Reflect.set(t(e),s,t(r))},"syscall/js.valueCall":(e,s,r,l,c,f,d)=>{const g=t(s),h=w(r,l),p=m(c,f,d);try{const b=Reflect.get(g,h);u(e,Reflect.apply(b,g,p)),o().setUint8(e+8,1)}catch(b){u(e,b),o().setUint8(e+8,0)}},"syscall/js.valueInvoke":(e,s,r,l,c)=>{try{const f=t(s),d=m(r,l,c);u(e,Reflect.apply(f,void 0,d)),o().setUint8(e+8,1)}catch(f){u(e,f),o().setUint8(e+8,0)}},"syscall/js.valueNew":(e,s,r,l,c)=>{const f=t(s),d=m(r,l,c);try{u(e,Reflect.construct(f,d)),o().setUint8(e+8,1)}catch(g){u(e,g),o().setUint8(e+8,0)}},"syscall/js.valueLength":e=>t(e).length,"syscall/js.valuePrepareString":(e,s)=>{const r=String(t(s)),l=U.encode(r);u(e,l),o().setInt32(e+8,l.length,!0)},"syscall/js.valueLoadString":(e,s,r,l)=>{const c=t(e);y(s,r,l).set(c)},"syscall/js.valueInstanceOf":(e,s)=>t(e)instanceof t(s),"syscall/js.copyBytesToGo":(e,s,r,l,c)=>{let f=e,d=e+4;const g=y(s,r),h=t(c);if(!(h instanceof Uint8Array||h instanceof Uint8ClampedArray)){o().setUint8(d,0);return}const p=h.subarray(0,g.length);g.set(p),o().setUint32(f,p.length,!0),o().setUint8(d,1)},"syscall/js.copyBytesToJS":(e,s,r,l,c)=>{let f=e,d=e+4;const g=t(s),h=y(r,l);if(!(g instanceof Uint8Array||g instanceof Uint8ClampedArray)){o().setUint8(d,0);return}const p=h.subarray(0,g.length);g.set(p),o().setUint32(f,p.length,!0),o().setUint8(d,1)}}},this.importObject.env=this.importObject.gojs}async run(o){for(this._inst=o,this._values=[NaN,0,null,!0,!1,global,this],this._goRefCounts=[],this._ids=new Map,this._idPool=[],this.exited=!1;;){const t=new Promise(n=>{this._resolveCallbackPromise=()=>{if(this.exited)throw new Error("bad callback: Go program has already exited");setTimeout(n,0)}});if(this._inst.exports._start(),this.exited)break;await t}}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(o){const t=this;return function(){const n={id:o,this:this,args:arguments};return t._pendingEvent=n,t._resume(),n.result}}},global.require&&global.require.main===module&&global.process&&global.process.versions&&!global.process.versions.electron){process.argv.length!=3&&(console.error("usage: go_js_wasm_exec [wasm binary] [arguments]"),process.exit(1));const o=new Go;WebAssembly.instantiate(fs.readFileSync(process.argv[2]),o.importObject).then(t=>o.run(t.instance)).catch(t=>{console.error(t),process.exit(1)})}})();
